<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Process *nix pipe with a script | Mátyás Budavári</title><meta name=keywords content="cli,javascript,node,python"><meta name=description content="I came across situations in the past where I needed to modify a pipe just slightly.
I immediately knew how to do it imperatively but could not develop a feasible chain of *nix utilities in a reasonable time.
Here&rsquo;s where my knowledge of a scripting language comes in handy."><meta name=author content="Mátyás Budavári"><meta name=theme-color content="#317EFB"><link rel=canonical href=https://budavariam.github.io/posts/2022/01/02/process-nix-pipe-with-a-script/><meta name=google-site-verification content="ocrG4G5ZSn2awC0mgHAsgk2qlhd3IAXCACgWNrqJcwY"><link href=/assets/css/stylesheet.min.8992a6674f694d99a84bca35962c31e8f7c81352f54d3e95def071e7d30507dd.css integrity="sha256-iZKmZ09pTZmoS8o1liwx6PfIE1L1TT6V3vBx59MFB90=" rel="preload stylesheet" as=style><script src=https://kit.fontawesome.com/68da183384.js crossorigin=anonymous></script>
<link rel=icon href=https://budavariam.github.io/favicon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://budavariam.github.io/favicon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://budavariam.github.io/favicon/favicon-32x32.png><link rel=apple-touch-icon href=https://budavariam.github.io/favicon/apple-icon-180x180.png><link rel=mask-icon href=https://budavariam.github.io/favicon/apple-icon-180x180.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.97.3"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-115499513-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script><meta property="og:title" content="Process *nix pipe with a script"><meta property="og:description" content="I came across situations in the past where I needed to modify a pipe just slightly.
I immediately knew how to do it imperatively but could not develop a feasible chain of *nix utilities in a reasonable time.
Here&rsquo;s where my knowledge of a scripting language comes in handy."><meta property="og:type" content="article"><meta property="og:url" content="https://budavariam.github.io/posts/2022/01/02/process-nix-pipe-with-a-script/"><meta property="og:image" content="https://budavariam.github.io/images/2022-01-02-process-nix-pipe/cover.png"><meta property="article:published_time" content="2022-01-02T00:00:00+00:00"><meta property="article:modified_time" content="2022-01-02T00:00:00+00:00"><meta property="og:site_name" content="Mátyás Budavári"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://budavariam.github.io/images/2022-01-02-process-nix-pipe/cover.png"><meta name=twitter:title content="Process *nix pipe with a script"><meta name=twitter:description content="I came across situations in the past where I needed to modify a pipe just slightly.
I immediately knew how to do it imperatively but could not develop a feasible chain of *nix utilities in a reasonable time.
Here&rsquo;s where my knowledge of a scripting language comes in handy."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://budavariam.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Process *nix pipe with a script","item":"https://budavariam.github.io/posts/2022/01/02/process-nix-pipe-with-a-script/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Process *nix pipe with a script","name":"Process *nix pipe with a script","description":"I came across situations in the past where I needed to modify a pipe just slightly. I immediately knew how to do it imperatively but could not develop a feasible chain of *nix …","keywords":["cli","javascript","node","python"],"articleBody":"I came across situations in the past where I needed to modify a pipe just slightly. I immediately knew how to do it imperatively but could not develop a feasible chain of *nix utilities in a reasonable time.\nHere’s where my knowledge of a scripting language comes in handy.\nUNIX Philosophy One of the main points of UNIX philosophy is to write simple code.\nPeter H. Salus summarized it well:\n  Write programs that do one thing and do it well. Write programs to work together. Write programs to handle text streams because that is a universal interface.   Take this chain, for example.\nseq 1 10 | shuf | tail -5 | sort -n It removes 5 random items from the list 1-10. First, it generates the 10 numbers, then shuffles the list, takes the last five items, and sorts the list back.\nToolbox If you’re a command-line magician, the chances are high that you can chain together the built-in utilities to achieve what you need in most situations. If you’re familiar with sed or awk, it increases your chances.\nOtherwise, one option would be to save the current stdout to a file and write a script in a language that you’re familiar with to process that file. Then continue the pipe from its stdout.\nAnd another option is to process the input Stream.\nThe power of the method I’m writing about shows up when you need to do some tricky calculations.\nPipe example For illustration, I created a pipe that writes 20 random numbers into the stdout every second. And the task I came up with for now is to multiply each number by five, pass them forward immediately on stdout, and print the summary at the end.\nThe initpipe function creates this chain into a named pipe called mypipe.\nfunction initpipe {  # init 20 random numbers between 1-100 (inclusive)  rm -f mypipe  mkfifo mypipe  seq 1 20 | \\  awk \\  -v min=1 \\  -v max=100 \\  -v seed=${1:-42} \\  'BEGIN{srand(seed);} {print int(min+rand()*(max-min+1)); system(\"sleep 1\")}' \\   mypipe \u0026 } I know it’s SOOO easy with awk, but let’s move on, and see how we can do it in Python and JavaScript.\ninitpipe \"$RANDOM\"; tee /dev/tty 'BEGIN {res=0;} {curr=int($1) * 5; res += curr; print(curr); } END { print(res) }' I’ll use tee /dev/tty to show the current line to process. It might not be available on every OS. It’s not even necessary. It’s there for visualization.\nJavaScript If you plan to run JavaScript code in the command line, you need to pick an interpreter and see how it connects to the standard input. I usually choose node.js for this purpose. It uses a readable Stream to access stdin. Then on data event, it spits out a Buffer.\nThe code below loads the processes the stream line by line:\nconst stdin = process.stdin; let result = 0; stdin.on(\"data\", (buf) = {  const curr = parseInt(buf.toString().trim()) * 5;  process.stdout.write(curr);  result += curr; }); stdin.on(\"end\", () = {  process.stdout.write(result); }); Save it as, e.g. multiplybyfive.js and call it as:\ninitpipe \"$RANDOM\"; tee /dev/tty There can be other solutions by using npm packages, but I aimed for a solution without additional packages.\nNode one-liner If you’re into ugly solutions, you can call it without saving it into its separate file:\ninitpipe \"$RANDOM\"; tee /dev/tty 'let i=process.stdin,r=0,o=process.stdout;i.on(\"data\",(c)={const c=parseInt(c.toString()) * 5;res+=c;);i.on(\"end\",()={o.write(r)});' Python In python, the sys package lets you access the standard input, and you need to read it line by line.\nimport sys import os result = 0 for line in iter(sys.stdin.readline, ''):  curr = int(line) * 5  result += curr  sys.stdout.write(str(curr) + os.linesep)  sys.stdout.write(str(result) + os.linesep) Python Oneliner The above code would look even uglier than the javascript version, but if you only need the final result, you can use a simplified version:\ninitpipe \"$RANDOM\"; tee /dev/tty \"import sys;print(sum([int(line) * 5 for line in iter(sys.stdin.readline, '')]))\" Summary I hope it will help you as much as it will help me.\nHappy coding!\nCover Photo by Rifqi Ramadhan from Pexels\n","wordCount":"687","inLanguage":"en","image":"https://budavariam.github.io/images/2022-01-02-process-nix-pipe/cover.png","datePublished":"2022-01-02T00:00:00Z","dateModified":"2022-01-02T00:00:00Z","author":{"@type":"Person","name":"Mátyás Budavári"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://budavariam.github.io/posts/2022/01/02/process-nix-pipe-with-a-script/"},"publisher":{"@type":"Organization","name":"Mátyás Budavári","logo":{"@type":"ImageObject","url":"https://budavariam.github.io/favicon/favicon.ico"}}}</script><script src=https://cdn.lr-ingest.io/LogRocket.min.js crossorigin=anonymous></script>
<script>window.LogRocket&&window.LogRocket.init("0igxfm/budavariam-blog"),window.LogRocket.getSessionURL(function(e){ga("send",{hitType:"event",eventCategory:"LogRocket",eventAction:e})})</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://budavariam.github.io/ title="Mátyás Budavári (Alt + H)" class=site-avatar><img src=/avatar.png alt=logo aria-label=logo height=70 width=70></a><div class=site-info><h1 class=site-name><a href=https://budavariam.github.io/ accesskey=h title="Mátyás Budavári (Alt + H)">Mátyás Budavári</a></h1><p class=site-description>Developer from Szeged</p></div></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://budavariam.github.io/about/ title=About><span>About</span></a></li><li><a href=https://budavariam.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://budavariam.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://budavariam.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://budavariam.github.io/projects/ title=Projects><span>Projects</span></a></li><li><span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Process *nix pipe with a script</h1><div class=post-meta>January 2, 2022&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Mátyás Budavári
|&nbsp;<a class=edit-post href=https://github.com/budavariam/budavariam.github.io/blob/main/content/posts/2022-01-02-process-nix-pipe.md rel="noopener noreferrer" target=_blank>Make it better</a></div></header><figure class=entry-cover><img src=https://budavariam.github.io/images/2022-01-02-process-nix-pipe/cover.png alt=Waterfall></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#unix-philosophy aria-label="UNIX Philosophy">UNIX Philosophy</a></li><li><a href=#toolbox aria-label=Toolbox>Toolbox</a></li><li><a href=#pipe-example aria-label="Pipe example">Pipe example</a></li><li><a href=#javascript aria-label=JavaScript>JavaScript</a><ul><li><a href=#node-one-liner aria-label="Node one-liner">Node one-liner</a></li></ul></li><li><a href=#python aria-label=Python>Python</a><ul><li><a href=#python-oneliner aria-label="Python Oneliner">Python Oneliner</a></li></ul></li><li><a href=#summary aria-label=Summary>Summary</a></li></ul></div></details></div><div class=post-content><p>I came across situations in the past where I needed to modify a pipe just slightly.
I immediately knew how to do it imperatively but could not develop a feasible chain of *nix utilities in a reasonable time.</p><p>Here&rsquo;s where my knowledge of a scripting language comes in handy.</p><h2 id=unix-philosophy>UNIX Philosophy<a hidden class=anchor aria-hidden=true href=#unix-philosophy>#</a></h2><p>One of the main points of <a href=https://en.wikipedia.org/wiki/Unix_philosophy>UNIX philosophy</a> is to write simple code.</p><p>Peter H. Salus summarized it well:</p><blockquote><ul><li>Write programs that do one thing and do it well.</li><li>Write programs to work together.</li><li>Write programs to handle text streams because that is a universal interface.</li></ul></blockquote><p>Take this chain, for example.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>seq <span style=color:#ae81ff>1</span> <span style=color:#ae81ff>10</span> | shuf | tail -5 | sort -n
</span></span></code></pre></div><p>It removes 5 random items from the list 1-10.
First, it generates the 10 numbers, then shuffles the list, takes the last five items, and sorts the list back.</p><h2 id=toolbox>Toolbox<a hidden class=anchor aria-hidden=true href=#toolbox>#</a></h2><p>If you&rsquo;re a command-line magician, the chances are high that you can chain together the built-in utilities to achieve what you need in most situations.
If you&rsquo;re familiar with <a href=/posts/2021/02/18/grep-sed-awk-filters/>sed or awk</a>, it increases your chances.</p><p>Otherwise, one option would be to save the current stdout to a file and write a script in a language that you&rsquo;re familiar with to process that file.
Then continue the pipe from its stdout.</p><p>And another option is to process the input Stream.</p><p>The power of the method I&rsquo;m writing about shows up when you need to do some tricky calculations.</p><h2 id=pipe-example>Pipe example<a hidden class=anchor aria-hidden=true href=#pipe-example>#</a></h2><p>For illustration, I created a pipe that writes 20 random numbers into the stdout every second.
And the task I came up with for now is to multiply each number by five,
pass them forward immediately on stdout, and print the summary at the end.</p><p>The <code>initpipe</code> function creates this chain into a <a href=https://en.wikipedia.org/wiki/Named_pipe>named pipe</a> called <code>mypipe</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#66d9ef>function</span> initpipe <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># init 20 random numbers between 1-100 (inclusive)</span>
</span></span><span style=display:flex><span>    rm -f mypipe
</span></span><span style=display:flex><span>    mkfifo mypipe
</span></span><span style=display:flex><span>    seq <span style=color:#ae81ff>1</span> <span style=color:#ae81ff>20</span> | <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    awk <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        -v min<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        -v max<span style=color:#f92672>=</span><span style=color:#ae81ff>100</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        -v seed<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>1<span style=color:#66d9ef>:-</span>42<span style=color:#e6db74>}</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>        <span style=color:#e6db74>&#39;BEGIN{srand(seed);} {print int(min+rand()*(max-min+1)); system(&#34;sleep 1&#34;)}&#39;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    &gt; mypipe &amp;
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>I know it&rsquo;s SOOO easy with awk, but let&rsquo;s move on, and see how we can do it in Python and JavaScript.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>initpipe <span style=color:#e6db74>&#34;</span>$RANDOM<span style=color:#e6db74>&#34;</span>;
</span></span><span style=display:flex><span>tee /dev/tty &lt; mypipe | awk <span style=color:#e6db74>&#39;BEGIN {res=0;} {curr=int($1) * 5; res += curr; print(curr); } END { print(res) }&#39;</span>
</span></span></code></pre></div><p>I&rsquo;ll use <code>tee /dev/tty</code> to show the current line to process. It might not be available on every OS.
It&rsquo;s not even necessary. It&rsquo;s there for visualization.</p><h2 id=javascript>JavaScript<a hidden class=anchor aria-hidden=true href=#javascript>#</a></h2><p>If you plan to run JavaScript code in the command line, you need to pick an interpreter and see how it connects to the standard input.
I usually choose node.js for this purpose. It uses a <a href=https://nodejs.org/api/process.html#processstdin>readable Stream</a> to access stdin.
Then on <code>data</code> event, it spits out a <a href=https://nodejs.dev/learn/nodejs-buffers>Buffer</a>.</p><p>The code below loads the processes the stream line by line:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>stdin</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>stdin</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>result</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>stdin</span>.<span style=color:#a6e22e>on</span>(<span style=color:#e6db74>&#34;data&#34;</span>, (<span style=color:#a6e22e>buf</span>) =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>curr</span> <span style=color:#f92672>=</span> parseInt(<span style=color:#a6e22e>buf</span>.<span style=color:#a6e22e>toString</span>().<span style=color:#a6e22e>trim</span>()) <span style=color:#f92672>*</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>stdout</span>.<span style=color:#a6e22e>write</span>(<span style=color:#a6e22e>curr</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>result</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>curr</span>;
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span><span style=color:#a6e22e>stdin</span>.<span style=color:#a6e22e>on</span>(<span style=color:#e6db74>&#34;end&#34;</span>, () =&gt; {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>stdout</span>.<span style=color:#a6e22e>write</span>(<span style=color:#a6e22e>result</span>);
</span></span><span style=display:flex><span>});
</span></span></code></pre></div><p>Save it as, e.g. <code>multiplybyfive.js</code> and call it as:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>initpipe <span style=color:#e6db74>&#34;</span>$RANDOM<span style=color:#e6db74>&#34;</span>;
</span></span><span style=display:flex><span>tee /dev/tty &lt; mypipe | node multiplybyfive.js
</span></span></code></pre></div><p>There can be other solutions by using npm packages, but I aimed for a solution without additional packages.</p><h3 id=node-one-liner>Node one-liner<a hidden class=anchor aria-hidden=true href=#node-one-liner>#</a></h3><p>If you&rsquo;re into ugly solutions, you can call it without saving it into its separate file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>initpipe <span style=color:#e6db74>&#34;</span>$RANDOM<span style=color:#e6db74>&#34;</span>;
</span></span><span style=display:flex><span>tee /dev/tty &lt; mypipe | node -e <span style=color:#e6db74>&#39;let i=process.stdin,r=0,o=process.stdout;i.on(&#34;data&#34;,(c)=&gt;{const c=parseInt(c.toString()) * 5;res+=c;);i.on(&#34;end&#34;,()=&gt;{o.write(r)});&#39;</span>
</span></span></code></pre></div><h2 id=python>Python<a hidden class=anchor aria-hidden=true href=#python>#</a></h2><p>In python, the <a href=https://docs.python.org/3/library/sys.html#sys.stdin>sys</a> package lets you access the standard input, and you need to read it line by line.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> sys
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> os
</span></span><span style=display:flex><span>result <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> line <span style=color:#f92672>in</span> iter(sys<span style=color:#f92672>.</span>stdin<span style=color:#f92672>.</span>readline, <span style=color:#e6db74>&#39;&#39;</span>):
</span></span><span style=display:flex><span>    curr <span style=color:#f92672>=</span> int(line) <span style=color:#f92672>*</span> <span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span>    result <span style=color:#f92672>+=</span> curr
</span></span><span style=display:flex><span>    sys<span style=color:#f92672>.</span>stdout<span style=color:#f92672>.</span>write(str(curr) <span style=color:#f92672>+</span> os<span style=color:#f92672>.</span>linesep)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sys<span style=color:#f92672>.</span>stdout<span style=color:#f92672>.</span>write(str(result) <span style=color:#f92672>+</span> os<span style=color:#f92672>.</span>linesep)
</span></span></code></pre></div><h3 id=python-oneliner>Python Oneliner<a hidden class=anchor aria-hidden=true href=#python-oneliner>#</a></h3><p>The above code would look even uglier than the javascript version, but if you only need the final result, you can use a simplified version:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>initpipe <span style=color:#e6db74>&#34;</span>$RANDOM<span style=color:#e6db74>&#34;</span>;
</span></span><span style=display:flex><span>tee /dev/tty &lt; mypipe | python3 -c <span style=color:#e6db74>&#34;import sys;print(sum([int(line) * 5 for line in iter(sys.stdin.readline, &#39;&#39;)]))&#34;</span>
</span></span></code></pre></div><h2 id=summary>Summary<a hidden class=anchor aria-hidden=true href=#summary>#</a></h2><p>I hope it will help you as much as it will help me.</p><p>Happy coding!</p><p>Cover Photo by <a href=https://www.pexels.com/@rifkyilhamrd>Rifqi Ramadhan</a> from <a href=https://www.pexels.com/photo/photography-of-waterfalls-between-trees-788200/>Pexels</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://budavariam.github.io/tags/cli/>cli</a></li><li><a href=https://budavariam.github.io/tags/javascript/>javascript</a></li><li><a href=https://budavariam.github.io/tags/node/>node</a></li><li><a href=https://budavariam.github.io/tags/python/>python</a></li></ul><div class=share-buttons><div class=addthis_inline_share_toolbox></div><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-602c2f70bcebfd93"></script></div></div></footer><script async data-uid=7d9354cde4 src=https://fabulous-experimenter-1073.ck.page/7d9354cde4/index.js></script><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//budavariam.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></main><footer class=footer><span>&copy; 2022 <a href=https://budavariam.github.io/>Mátyás Budavári</a></span>
<span>&#183;</span>
<wbr><span>Powered&nbsp;by&nbsp;<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<wbr><span>Theme&nbsp;<a href=https://github.com/budavariam/hugo-PaperMod/tree/budavariam rel=noopener target=_blank>PaperMod&nbsp;(custom)</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8=" onload=hljs.initHighlightingOnLoad()></script>
<script defer src=/assets/js/copybtn.min.4ca2683e6d39c944ce34447501348e9b7c2805874fc5f1023f9534ecd3dd2b59.js integrity="sha256-TKJoPm05yUTONER1ATSOm3woBYdPxfECP5U07NPdK1k="></script>
<script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById("menu").scrollLeft=localStorage.getItem("menu-scroll-position"))},document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})});var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById("menu").scrollLeft)}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>
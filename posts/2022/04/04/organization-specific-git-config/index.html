<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Organization Specific Git Config | Mátyás Budavári</title><meta name=keywords content="git,quick-tip,dotfiles,config"><meta name=description content="I often need to present myself differently in git per project.
When I work on a client&rsquo;s own github, and they provide me an email address,
it&rsquo;s more professional, and most of the time a requirement, to use it to identify myself.
Git, by default lets me specify configuration globally, or per repository.
However, with a little trick I can set it on any abstraction level I need."><meta name=author content="Mátyás Budavári"><meta name=theme-color content="#317EFB"><link rel=canonical href=https://budavariam.github.io/posts/2022/04/04/organization-specific-git-config/><meta name=google-site-verification content="ocrG4G5ZSn2awC0mgHAsgk2qlhd3IAXCACgWNrqJcwY"><link href=/assets/css/stylesheet.min.css rel="preload stylesheet" as=style><script src=https://kit.fontawesome.com/68da183384.js crossorigin=anonymous></script>
<link rel=icon href=https://budavariam.github.io/favicon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://budavariam.github.io/favicon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://budavariam.github.io/favicon/favicon-32x32.png><link rel=apple-touch-icon href=https://budavariam.github.io/favicon/apple-icon-180x180.png><link rel=mask-icon href=https://budavariam.github.io/favicon/apple-icon-180x180.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.100.2"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-115499513-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script><meta property="og:title" content="Organization Specific Git Config"><meta property="og:description" content="I often need to present myself differently in git per project.
When I work on a client&rsquo;s own github, and they provide me an email address,
it&rsquo;s more professional, and most of the time a requirement, to use it to identify myself.
Git, by default lets me specify configuration globally, or per repository.
However, with a little trick I can set it on any abstraction level I need."><meta property="og:type" content="article"><meta property="og:url" content="https://budavariam.github.io/posts/2022/04/04/organization-specific-git-config/"><meta property="og:image" content="https://budavariam.github.io/images/2022-04-04-organization-specific-git-config/cover.png"><meta property="article:published_time" content="2022-04-04T00:00:00+00:00"><meta property="article:modified_time" content="2022-04-04T00:00:00+00:00"><meta property="og:site_name" content="Mátyás Budavári"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://budavariam.github.io/images/2022-04-04-organization-specific-git-config/cover.png"><meta name=twitter:title content="Organization Specific Git Config"><meta name=twitter:description content="I often need to present myself differently in git per project.
When I work on a client&rsquo;s own github, and they provide me an email address,
it&rsquo;s more professional, and most of the time a requirement, to use it to identify myself.
Git, by default lets me specify configuration globally, or per repository.
However, with a little trick I can set it on any abstraction level I need."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://budavariam.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Organization Specific Git Config","item":"https://budavariam.github.io/posts/2022/04/04/organization-specific-git-config/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Organization Specific Git Config","name":"Organization Specific Git Config","description":"I often need to present myself differently in git per project. When I work on a client\u0026amp;rsquo;s own github, and they provide me an email address, it\u0026amp;rsquo;s more professional, and …","keywords":["git","quick-tip","dotfiles","config"],"articleBody":"I often need to present myself differently in git per project. When I work on a client’s own github, and they provide me an email address, it’s more professional, and most of the time a requirement, to use it to identify myself. Git, by default lets me specify configuration globally, or per repository. However, with a little trick I can set it on any abstraction level I need.\nThe situation Take the simplest example, that I need to change my email address across different git repositories. Imagine I have a folder structure:\nPersonal sandbox: where I’d like to use my personal address Company level internal development: where I’d like to use my company address One folder per each clients: where I’d like to use my vendor addresses Each of these folders can contain many repositories, and the git config depends on the top level folder.\nThe problem is that I really don’t want to set up different email addresses per new repositories.\nLet’s see what we can do about this.\nWe’ll dive in git config a bit.\n# You can set up the single global email address git config --global user.email \"company_email@example.com\" # You can modify the configs per repository as well git config user.email \"name@company.com\" Git Include to the rescue Git Includes give you a way to extend your git configurations by loading other files into them.\nYou can even do this conditionally with the includeIf directive.\nYou need to do 2 things:\nDefine the gitconfig snippet with your favourite editor / command in the desired location.\necho \"\"\"[user]\\n email = personal_address@example.com\"\"\" \u003e\u003e ~/project_dir/personal/.gitconfig Extend your git config conditionally\n[includeIf \"gitdir:~/project_dir/personal/\"] path = ~/project_dir/personal/.gitconfig After this, every git repository anywhere under ~/project_dir/personal/ will see your email address as personal_address@example.com, based on ~/project_dir/personal/.gitconfig.\nSee what’s happening You need to add an includeIf directive to your global git config file.\nIt needs to have a single parameter, to define for which git repositories should it add the snippet.\nThe parameter can start with a gitdir: keyword that tells git to test the location of the current repository, whether if matches the defined glob pattern. If it matches, then the snippet defined in the path param of the includeIf directive will be included.\nYou can have relative paths, but it will be relative to the current repo, NOT the global config file.\nWhat if I use dotfiles If you share your dotfiles in a public repository, I highly advise you NOT to share your different email addresses with the whole world.\nHere’s where .gitignore and include can come in handy.\nIgnore You can define a pattern for sensitive data in your gitignore file e.g. ignore all files that start with the sensitive prefix.\nYou need to remember to add these files when you set up a new machine.\nInclude And in your global gitconfig you can safely include your additional configs, where you define the extensions via includeIf directives.\n[include] path = ~/dotfiles/git/sensitive-gitconfig File locations It’s up to you where you put the snippets. I prefer to keep them in the dotfiles repository. It’s also good to keep them near the repositories.\nSee what works for you the best.\nSummary I hope it will prevent you many headaches.\nHappy coding!\nCover Photo by Ibolya Toldi from Pexels\n","wordCount":"545","inLanguage":"en","image":"https://budavariam.github.io/images/2022-04-04-organization-specific-git-config/cover.png","datePublished":"2022-04-04T00:00:00Z","dateModified":"2022-04-04T00:00:00Z","author":{"@type":"Person","name":"Mátyás Budavári"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://budavariam.github.io/posts/2022/04/04/organization-specific-git-config/"},"publisher":{"@type":"Organization","name":"Mátyás Budavári","logo":{"@type":"ImageObject","url":"https://budavariam.github.io/favicon/favicon.ico"}}}</script><script src=https://cdn.lr-ingest.io/LogRocket.min.js crossorigin=anonymous></script>
<script>try{window.LogRocket&&window.LogRocket.init('0igxfm/budavariam-blog'),window.LogRocket.getSessionURL(function(e){ga('send',{hitType:'event',eventCategory:'LogRocket',eventAction:e})});var UUID=function(){for(var n={},e=[],t=0;t<256;t++)e[t]=(t<16?'0':'')+t.toString(16);return n.generate=function(){var t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,s=Math.random()*4294967295|0,o=Math.random()*4294967295|0;return e[t&255]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+'-'+e[n&255]+e[n>>8&255]+'-'+e[n>>16&15|64]+e[n>>24&255]+'-'+e[s&63|128]+e[s>>8&255]+'-'+e[s>>16&255]+e[s>>24&255]+e[o&255]+e[o>>8&255]+e[o>>16&255]+e[o>>24&255]},n}();function getIDToken(){const e=UUID.generate(),t=localStorage.getItem('id-token');return t||(localStorage.setItem('id-token',e),e)}const e=getIDToken();window.LogRocket.identify(e,{name:e,email:`${e}@domain.com`}),window.LogRocket.getSessionURL(function(e){try{window.ga('send',{hitType:'event',eventCategory:'LogRocket',eventAction:e})}catch(e){console.error("Google analytics is not yet available",e)}})}catch(e){console.error("Failed to init logrocket",e)}</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2860273667237650" crossorigin=anonymous></script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://budavariam.github.io/ title="Mátyás Budavári (Alt + H)" class=site-avatar><img src=/avatar.png alt=logo aria-label=logo height=70 width=70></a><div class=site-info><h1 class=site-name><a href=https://budavariam.github.io/ accesskey=h title="Mátyás Budavári (Alt + H)">Mátyás Budavári</a></h1><p class=site-description>Developer from Szeged</p></div></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://budavariam.github.io/about/ title=About><span>About</span></a></li><li><a href=https://budavariam.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://budavariam.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://budavariam.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://budavariam.github.io/projects/ title=Projects><span>Projects</span></a></li><li><span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Organization Specific Git Config</h1><div class=post-meta>April 4, 2022&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Mátyás Budavári
|&nbsp;<a class=edit-post href=https://github.com/budavariam/budavariam.github.io/blob/main/content/posts/2022-04-04-organization-specific-git-config.md rel="noopener noreferrer" target=_blank>Make it better</a></div></header><figure class=entry-cover><img src=https://budavariam.github.io/images/2022-04-04-organization-specific-git-config/cover.png alt="Carnival mask decorated with pink flower"></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#the-situation aria-label="The situation">The situation</a></li><li><a href=#git-include-to-the-rescue aria-label="Git Include to the rescue">Git Include to the rescue</a><ul><li><a href=#see-whats-happening aria-label="See what&amp;rsquo;s happening">See what&rsquo;s happening</a></li></ul></li><li><a href=#what-if-i-use-dotfiles aria-label="What if I use dotfiles">What if I use dotfiles</a><ul><li><a href=#ignore aria-label=Ignore>Ignore</a></li><li><a href=#include aria-label=Include>Include</a></li><li><a href=#file-locations aria-label="File locations">File locations</a></li></ul></li><li><a href=#summary aria-label=Summary>Summary</a></li></ul></div></details></div><div class=post-content><p>I often need to present myself differently in git per project.
When I work on a client&rsquo;s own github, and they provide me an email address,
it&rsquo;s more professional, <em>and most of the time a requirement</em>, to use it to identify myself.
Git, by default lets me specify configuration globally, or per repository.
However, with a little trick I can set it on any abstraction level I need.</p><h2 id=the-situation>The situation<a hidden class=anchor aria-hidden=true href=#the-situation>#</a></h2><p>Take the simplest example, that I need to change my email address across different git repositories.
Imagine I have a folder structure:</p><ul><li>Personal sandbox: where I&rsquo;d like to use my personal address</li><li>Company level internal development: where I&rsquo;d like to use my company address</li><li>One folder per each clients: where I&rsquo;d like to use my vendor addresses</li></ul><p>Each of these folders can contain many repositories, and the git config depends on the top level folder.</p><p>The problem is that I really don&rsquo;t want to set up different email addresses per new repositories.</p><p>Let&rsquo;s see what we can do about this.</p><p>We&rsquo;ll dive in <a href=https://git-scm.com/book/en/v2/Customizing-Git-Git-Configuration>git config</a> a bit.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># You can set up the single global email address</span>
</span></span><span style=display:flex><span>git config --global user.email <span style=color:#e6db74>&#34;company_email@example.com&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># You can modify the configs per repository as well</span>
</span></span><span style=display:flex><span>git config user.email <span style=color:#e6db74>&#34;name@company.com&#34;</span>
</span></span></code></pre></div><h2 id=git-include-to-the-rescue>Git Include to the rescue<a hidden class=anchor aria-hidden=true href=#git-include-to-the-rescue>#</a></h2><p><a href=https://git-scm.com/docs/git-config#_includes>Git Includes</a> give you a way to extend your git configurations by loading other files into them.</p><p>You can even do this conditionally with the <a href=https://git-scm.com/docs/git-config#_conditional_includes>includeIf</a> directive.</p><p>You need to do 2 things:</p><ol><li><p>Define the gitconfig snippet with your favourite editor / command in the desired location.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>echo <span style=color:#e6db74>&#34;&#34;&#34;[user]\n   email = personal_address@example.com&#34;&#34;&#34;</span> &gt;&gt; ~/project_dir/personal/.gitconfig
</span></span></code></pre></div></li><li><p>Extend your git config conditionally</p><pre tabindex=0><code class=language-conf data-lang=conf>[includeIf &#34;gitdir:~/project_dir/personal/&#34;]
    path = ~/project_dir/personal/.gitconfig
</code></pre></li></ol><blockquote><p>After this, every git repository anywhere under <code>~/project_dir/personal/</code> will see your email address as <code>personal_address@example.com</code>, based on <code>~/project_dir/personal/.gitconfig</code>.</p></blockquote><h3 id=see-whats-happening>See what&rsquo;s happening<a hidden class=anchor aria-hidden=true href=#see-whats-happening>#</a></h3><p>You need to add an <code>includeIf</code> directive to your global git config file.</p><p>It needs to have a single parameter, to define for which git repositories should it add the snippet.</p><p>The parameter can start with a <code>gitdir:</code> keyword that tells git to test the location of the current repository, whether if matches the defined <a href=https://en.wikipedia.org/wiki/Glob_(programming)>glob</a> pattern.
If it matches, then the snippet defined in the <code>path</code> param of the <code>includeIf</code> directive will be included.</p><p>You can have relative paths, but it will be relative to the current repo, <strong>NOT</strong> the global config file.</p><h2 id=what-if-i-use-dotfiles>What if I use dotfiles<a hidden class=anchor aria-hidden=true href=#what-if-i-use-dotfiles>#</a></h2><p>If you share your <a href=/posts/2021/03/06/keep-your-configs-safe/>dotfiles</a> in a public repository, I highly advise you <strong>NOT</strong> to share your different email addresses with the whole world.</p><p>Here&rsquo;s where <code>.gitignore</code> and <code>include</code> can come in handy.</p><h3 id=ignore>Ignore<a hidden class=anchor aria-hidden=true href=#ignore>#</a></h3><p>You can define a pattern for sensitive data in your <a href=https://git-scm.com/docs/gitignore>gitignore file</a> e.g. ignore all files that start with the <code>sensitive</code> prefix.</p><blockquote><p>You need to remember to add these files when you set up a new machine.</p></blockquote><h3 id=include>Include<a hidden class=anchor aria-hidden=true href=#include>#</a></h3><p>And in your global gitconfig you can safely include your additional configs, where you define the extensions via <code>includeIf</code> directives.</p><pre tabindex=0><code class=language-conf data-lang=conf>[include]
    path = ~/dotfiles/git/sensitive-gitconfig
</code></pre><h3 id=file-locations>File locations<a hidden class=anchor aria-hidden=true href=#file-locations>#</a></h3><p>It&rsquo;s up to you where you put the snippets.
I prefer to keep them in the dotfiles repository.
It&rsquo;s also good to keep them near the repositories.</p><p>See what works for you the best.</p><h2 id=summary>Summary<a hidden class=anchor aria-hidden=true href=#summary>#</a></h2><p>I hope it will prevent you many headaches.</p><p>Happy coding!</p><p>Cover Photo by <a href=https://www.pexels.com/@ibolya-toldi-2149985/>Ibolya Toldi</a> from <a href=https://www.pexels.com/photo/carnival-mask-decorated-with-pink-flower-3836671/>Pexels</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://budavariam.github.io/tags/git/>git</a></li><li><a href=https://budavariam.github.io/tags/quick-tip/>quick-tip</a></li><li><a href=https://budavariam.github.io/tags/dotfiles/>dotfiles</a></li><li><a href=https://budavariam.github.io/tags/config/>config</a></li></ul><div class=share-buttons><div class=addthis_inline_share_toolbox></div><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-602c2f70bcebfd93"></script></div></div></footer><script async data-uid=7d9354cde4 src=https://fabulous-experimenter-1073.ck.page/7d9354cde4/index.js></script><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var t=document,e=t.createElement('script');e.async=!0,e.src='//budavariam.disqus.com/embed.js',e.setAttribute('data-timestamp',+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a>
<ins class=adsbygoogle style=display:block data-ad-format=autorelaxed data-ad-client=ca-pub-2860273667237650 data-ad-slot=9564264093></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></article></main><footer class=footer><span>&copy; 2022 <a href=https://budavariam.github.io/>Mátyás Budavári</a></span>
<span>&#183;</span>
<wbr><span>Powered&nbsp;by&nbsp;<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<wbr><span>Theme&nbsp;<a href=https://github.com/budavariam/hugo-PaperMod/tree/budavariam rel=noopener target=_blank>PaperMod&nbsp;(custom)</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.js onload=hljs.initHighlightingOnLoad()></script>
<script defer src=/assets/js/copybtn.min.4ca2683e6d39c944ce34447501348e9b7c2805874fc5f1023f9534ecd3dd2b59.js></script>
<script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position"))},document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})});var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft)}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>
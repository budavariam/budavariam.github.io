<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Keep Your Configs Safe | Mátyás Budavári</title><meta name=keywords content="dotfiles,shell,config,git,productivity"><meta name=description content="A few years ago I switched between a few machines on a daily basis,
and tweaked my environments constantly.
It was a tedious task to update each of them one by one,
every time I changed configs or aliases in any of them.
I figured this has got to be easier somehow,
and found the hidden world of dotfiles."><meta name=author content="Mátyás Budavári"><meta name=theme-color content="#317EFB"><link rel=canonical href=https://budavariam.github.io/posts/2021/03/06/keep-your-configs-safe/><meta name=google-site-verification content="ocrG4G5ZSn2awC0mgHAsgk2qlhd3IAXCACgWNrqJcwY"><link href=/assets/css/stylesheet.min.css rel="preload stylesheet" as=style><script src=https://kit.fontawesome.com/68da183384.js crossorigin=anonymous></script>
<link rel=icon href=https://budavariam.github.io/favicon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://budavariam.github.io/favicon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://budavariam.github.io/favicon/favicon-32x32.png><link rel=apple-touch-icon href=https://budavariam.github.io/favicon/apple-icon-180x180.png><link rel=mask-icon href=https://budavariam.github.io/favicon/apple-icon-180x180.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.100.2"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-115499513-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script><meta property="og:title" content="Keep Your Configs Safe"><meta property="og:description" content="A few years ago I switched between a few machines on a daily basis,
and tweaked my environments constantly.
It was a tedious task to update each of them one by one,
every time I changed configs or aliases in any of them.
I figured this has got to be easier somehow,
and found the hidden world of dotfiles."><meta property="og:type" content="article"><meta property="og:url" content="https://budavariam.github.io/posts/2021/03/06/keep-your-configs-safe/"><meta property="og:image" content="https://budavariam.github.io/images/2021-03-06-keep-your-configs-safe/cover.jpg"><meta property="article:published_time" content="2021-03-06T00:00:00+00:00"><meta property="article:modified_time" content="2021-03-06T00:00:00+00:00"><meta property="og:site_name" content="Mátyás Budavári"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://budavariam.github.io/images/2021-03-06-keep-your-configs-safe/cover.jpg"><meta name=twitter:title content="Keep Your Configs Safe"><meta name=twitter:description content="A few years ago I switched between a few machines on a daily basis,
and tweaked my environments constantly.
It was a tedious task to update each of them one by one,
every time I changed configs or aliases in any of them.
I figured this has got to be easier somehow,
and found the hidden world of dotfiles."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://budavariam.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Keep Your Configs Safe","item":"https://budavariam.github.io/posts/2021/03/06/keep-your-configs-safe/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Keep Your Configs Safe","name":"Keep Your Configs Safe","description":"A few years ago I switched between a few machines on a daily basis, and tweaked my environments constantly. It was a tedious task to update each of them one by one, every time I …","keywords":["dotfiles","shell","config","git","productivity"],"articleBody":"A few years ago I switched between a few machines on a daily basis, and tweaked my environments constantly. It was a tedious task to update each of them one by one, every time I changed configs or aliases in any of them. I figured this has got to be easier somehow, and found the hidden world of dotfiles.\nYesterday I told a friend to set up a small zsh plugin to make his life easier, but somehow he managed to remove some essential lines from his config. It took some time to guess what it was, and he may never know what else did he remove. That’s when I realized, it feels good to have a safety net around my configs I collected over the years, and I like that I don’t have to deal with these kind of problems anymore. I want to spread the word about its benefits.\nDotfiles In *nix systems user configuration files are usually stored in folders and files with a name that starts with a dot. These files are added upon install, and can be modified later.\nTo keep your configurations safe you can put them under Version Control Systems. That way you can easily roll back to a previously working config, and sync the current configs to multiple machines easily.\nMany applications modify config files after their install, for example add some scripts to the rc files of the users’ shells. With version control you can keep track of these modifications.\nMany people on github has a public repository called something like dotfiles that shows their approach. You can learn from their approaches, and even share your way with the community.\nHow to get started There are different ways to create the dotfiles backups:\nRoll your own scripts from scratch See others’ approach, and tweak it to your needs That’s my preferred way Use a tool like Dotbot to do the heavylifting There are many more general-purpose solutions Put your whole home folder into git Make sure you ignore the folders that you want to exclude I think it’s an overkill, also not all necessary configs are stored in that directory You can find more information with repositories, tips and tricks and other tools at https://dotfiles.github.io.\nBut what about secrets It’s not advised to store passwords and crucial keys in VCS like git.\nYou can store it in a safe vault elsewhere and reference them as regular files. You can also store them in the same folder but add them to .gitignore.\nI’d make sure that my configs work without those files. Also I wouldn’t use names that store any additional info about its whereabouts, or its contents.\nIf you accidentally pushed some keys to the git repository, it’s not enough to revert those changes, and commit again, since it’s part of the history now. You can follow this guide to remove it completely from the repository.\nMy way I keep the public part of my configs at https://github.com/budavariam/dotfiles.\nI wanted to get my hands dirty, and didn’t want to use any external tools for this purpose. I took inspiration from other dotfiles repos and customized the shell scripts enough to fit my needs.\nI need to run the install script once, and it’s ready to go. The files are symlinked to their proper locations, so if I change anything in an other machine all I have to do is call git pull in my dotfiles repository.\nIt’s not prepared for all usecases, and not suited for reruns. I don’t often add new things to the repo, and the scripts are not too large to run some of its parts manually if needded.\nI advise you to find the method that fits you the best, and keep your configs safe.\nHappy coding!\n","wordCount":"630","inLanguage":"en","image":"https://budavariam.github.io/images/2021-03-06-keep-your-configs-safe/cover.jpg","datePublished":"2021-03-06T00:00:00Z","dateModified":"2021-03-06T00:00:00Z","author":{"@type":"Person","name":"Mátyás Budavári"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://budavariam.github.io/posts/2021/03/06/keep-your-configs-safe/"},"publisher":{"@type":"Organization","name":"Mátyás Budavári","logo":{"@type":"ImageObject","url":"https://budavariam.github.io/favicon/favicon.ico"}}}</script><script src=https://cdn.lr-ingest.io/LogRocket.min.js crossorigin=anonymous></script>
<script>try{window.LogRocket&&window.LogRocket.init('0igxfm/budavariam-blog'),window.LogRocket.getSessionURL(function(e){ga('send',{hitType:'event',eventCategory:'LogRocket',eventAction:e})});var UUID=function(){for(var n={},e=[],t=0;t<256;t++)e[t]=(t<16?'0':'')+t.toString(16);return n.generate=function(){var t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,s=Math.random()*4294967295|0,o=Math.random()*4294967295|0;return e[t&255]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+'-'+e[n&255]+e[n>>8&255]+'-'+e[n>>16&15|64]+e[n>>24&255]+'-'+e[s&63|128]+e[s>>8&255]+'-'+e[s>>16&255]+e[s>>24&255]+e[o&255]+e[o>>8&255]+e[o>>16&255]+e[o>>24&255]},n}();function getIDToken(){const e=UUID.generate(),t=localStorage.getItem('id-token');return t||(localStorage.setItem('id-token',e),e)}const e=getIDToken();window.LogRocket.identify(e,{name:e,email:`${e}@domain.com`}),window.LogRocket.getSessionURL(function(e){try{window.ga('send',{hitType:'event',eventCategory:'LogRocket',eventAction:e})}catch(e){console.error("Google analytics is not yet available",e)}})}catch(e){console.error("Failed to init logrocket",e)}</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2860273667237650" crossorigin=anonymous></script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://budavariam.github.io/ title="Mátyás Budavári (Alt + H)" class=site-avatar><img src=/avatar.png alt=logo aria-label=logo height=70 width=70></a><div class=site-info><h1 class=site-name><a href=https://budavariam.github.io/ accesskey=h title="Mátyás Budavári (Alt + H)">Mátyás Budavári</a></h1><p class=site-description>Developer from Szeged</p></div></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://budavariam.github.io/about/ title=About><span>About</span></a></li><li><a href=https://budavariam.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://budavariam.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://budavariam.github.io/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://budavariam.github.io/projects/ title=Projects><span>Projects</span></a></li><li><span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Keep Your Configs Safe</h1><div class=post-meta>March 6, 2021&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Mátyás Budavári
|&nbsp;<a class=edit-post href=https://github.com/budavariam/budavariam.github.io/blob/main/content/posts/2021-03-06-keep-your-configs-safe.md rel="noopener noreferrer" target=_blank>Make it better</a></div></header><figure class=entry-cover><img src=https://budavariam.github.io/images/2021-03-06-keep-your-configs-safe/cover.jpg alt="Gold Padlock Locking Door"></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#dotfiles aria-label=Dotfiles>Dotfiles</a><ul><li><a href=#how-to-get-started aria-label="How to get started">How to get started</a></li><li><a href=#but-what-about-secrets aria-label="But what about secrets">But what about secrets</a></li></ul></li><li><a href=#my-way aria-label="My way">My way</a></li></ul></div></details></div><div class=post-content><p>A few years ago I switched between a few machines on a daily basis,
and tweaked my environments constantly.
It was a tedious task to update each of them one by one,
every time I changed configs or aliases in any of them.
I figured this has got to be easier somehow,
and found the hidden world of dotfiles.</p><p>Yesterday I told a friend to set up a small zsh plugin to make his life easier,
but somehow he managed to remove some essential lines from his config.
It took some time to guess what it was, and he may never know what else did he remove.
That&rsquo;s when I realized, it feels good to have a safety net around my configs
I collected over the years, and I like that I don&rsquo;t have to deal with these kind of problems anymore.
I want to spread the word about its benefits.</p><h2 id=dotfiles>Dotfiles<a hidden class=anchor aria-hidden=true href=#dotfiles>#</a></h2><p>In *nix systems user configuration files are usually stored
in folders and files with a name that starts with a dot.
These files are added upon install, and can be modified later.</p><p>To keep your configurations safe you can put them under Version Control Systems.
That way you can easily roll back to a previously working config,
and sync the current configs to multiple machines easily.</p><p>Many applications modify config files after their install,
for example add some scripts to the rc files of the users&rsquo; shells.
With version control you can keep track of these modifications.</p><p>Many people on github has a public repository called something like <code>dotfiles</code>
that shows their approach.
You can learn from their approaches, and even share your way with the community.</p><h3 id=how-to-get-started>How to get started<a hidden class=anchor aria-hidden=true href=#how-to-get-started>#</a></h3><p>There are different ways to create the dotfiles backups:</p><ul><li>Roll your own scripts from scratch</li><li>See others&rsquo; approach, and tweak it to your needs<ul><li>That&rsquo;s my preferred way</li></ul></li><li>Use a tool like <a href=https://github.com/anishathalye/dotbot>Dotbot</a> to do the heavylifting<ul><li>There are many more general-purpose solutions</li></ul></li><li>Put your whole home folder into git<ul><li>Make sure you ignore the folders that you want to exclude</li><li>I think it&rsquo;s an overkill, also not all necessary configs are stored in that directory</li></ul></li></ul><p>You can find more information with repositories, tips and tricks and other tools
at <a href=https://dotfiles.github.io>https://dotfiles.github.io</a>.</p><h3 id=but-what-about-secrets>But what about secrets<a hidden class=anchor aria-hidden=true href=#but-what-about-secrets>#</a></h3><p>It&rsquo;s not advised to store passwords and crucial keys in
<a href=https://en.wikipedia.org/wiki/Version_control>VCS</a> like git.</p><p>You can store it in a safe vault elsewhere and reference them as regular files.
You can also store them in the same folder but add them to <code>.gitignore</code>.</p><p>I&rsquo;d make sure that my configs work without those files.
Also I wouldn&rsquo;t use names that store any additional info about its whereabouts, or its contents.</p><p>If you accidentally pushed some keys to the git repository,
it&rsquo;s not enough to revert those changes, and commit again, since it&rsquo;s part of the history now.
You can follow
<a href=https://docs.github.com/en/github/authenticating-to-github/removing-sensitive-data-from-a-repository>this guide</a>
to remove it completely from the repository.</p><h2 id=my-way>My way<a hidden class=anchor aria-hidden=true href=#my-way>#</a></h2><p>I keep the public part of my configs at
<a href=https://github.com/budavariam/dotfiles>https://github.com/budavariam/dotfiles</a>.</p><p>I wanted to get my hands dirty, and didn&rsquo;t want to use any external tools for this purpose.
I took inspiration from other dotfiles repos and customized the shell scripts enough to fit my needs.</p><p>I need to run the install script once, and it&rsquo;s ready to go.
The files are symlinked to their proper locations,
so if I change anything in an other machine all I have to do
is call <code>git pull</code> in my dotfiles repository.</p><p>It&rsquo;s not prepared for all usecases, and not suited for reruns.
I don&rsquo;t often add new things to the repo,
and the scripts are not too large to run some of its parts manually if needded.</p><p>I advise you to find the method that fits you the best, and keep your configs safe.</p><p>Happy coding!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://budavariam.github.io/tags/dotfiles/>dotfiles</a></li><li><a href=https://budavariam.github.io/tags/shell/>shell</a></li><li><a href=https://budavariam.github.io/tags/config/>config</a></li><li><a href=https://budavariam.github.io/tags/git/>git</a></li><li><a href=https://budavariam.github.io/tags/productivity/>productivity</a></li></ul><div class=share-buttons><div class=addthis_inline_share_toolbox></div><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-602c2f70bcebfd93"></script></div></div></footer><script async data-uid=7d9354cde4 src=https://fabulous-experimenter-1073.ck.page/7d9354cde4/index.js></script><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var t=document,e=t.createElement('script');e.async=!0,e.src='//budavariam.disqus.com/embed.js',e.setAttribute('data-timestamp',+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></main><footer class=footer><span>&copy; 2022 <a href=https://budavariam.github.io/>Mátyás Budavári</a></span>
<span>&#183;</span>
<wbr><span>Powered&nbsp;by&nbsp;<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<wbr><span>Theme&nbsp;<a href=https://github.com/budavariam/hugo-PaperMod/tree/budavariam rel=noopener target=_blank>PaperMod&nbsp;(custom)</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.js onload=hljs.initHighlightingOnLoad()></script>
<script defer src=/assets/js/copybtn.min.4ca2683e6d39c944ce34447501348e9b7c2805874fc5f1023f9534ecd3dd2b59.js></script>
<script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position"))},document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})});var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft)}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>
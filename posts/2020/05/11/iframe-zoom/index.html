<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Iframe zoom | Mátyás Budavári</title><meta name=keywords content="programming,my-solution,html,css"><meta name=description content="I need to set the zoom factor in an iframe.
I knew exactly how much space should the embedded content fit into.
And the scale needs to be adjustable.
Here&rsquo;s how I&rsquo;d do it."><meta name=author content="Mátyás Budavári"><meta name=theme-color content="#317EFB"><link rel=canonical href=https://budavariam.github.io/posts/2020/05/11/iframe-zoom/><meta name=google-site-verification content="ocrG4G5ZSn2awC0mgHAsgk2qlhd3IAXCACgWNrqJcwY"><link href=/assets/css/stylesheet.min.130e9c653e42bce4b6fc2eba1544cbc767d54545a0f8cac79c1dcf99b6bed40e.css integrity="sha256-Ew6cZT5CvOS2/C66FUTLx2fVRUWg+MrHnB3Pmba+1A4=" rel="preload stylesheet" as=style><link rel=icon href=https://budavariam.github.io/favicon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://budavariam.github.io/favicon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://budavariam.github.io/favicon/favicon-32x32.png><link rel=apple-touch-icon href=https://budavariam.github.io/favicon/apple-icon-180x180.png><link rel=mask-icon href=https://budavariam.github.io/favicon/apple-icon-180x180.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.82.0"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-115499513-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script><meta property="og:title" content="Iframe zoom"><meta property="og:description" content="I need to set the zoom factor in an iframe.
I knew exactly how much space should the embedded content fit into.
And the scale needs to be adjustable.
Here&rsquo;s how I&rsquo;d do it."><meta property="og:type" content="article"><meta property="og:url" content="https://budavariam.github.io/posts/2020/05/11/iframe-zoom/"><meta property="og:image" content="https://budavariam.github.io/avatar.png"><meta property="article:published_time" content="2020-05-11T00:00:00+00:00"><meta property="article:modified_time" content="2020-05-11T00:00:00+00:00"><meta property="og:site_name" content="Mátyás Budavári"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://budavariam.github.io/avatar.png"><meta name=twitter:title content="Iframe zoom"><meta name=twitter:description content="I need to set the zoom factor in an iframe.
I knew exactly how much space should the embedded content fit into.
And the scale needs to be adjustable.
Here&rsquo;s how I&rsquo;d do it."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://budavariam.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Iframe zoom","item":"https://budavariam.github.io/posts/2020/05/11/iframe-zoom/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Iframe zoom","name":"Iframe zoom","description":"I need to set the zoom factor in an iframe. I knew exactly how much space should the embedded content fit into. And the scale needs to be adjustable. Here\u0026amp;rsquo;s how I\u0026amp;rsquo;d do …","keywords":["programming","my-solution","html","css"],"articleBody":"I need to set the zoom factor in an iframe. I knew exactly how much space should the embedded content fit into. And the scale needs to be adjustable. Here’s how I’d do it.\ndiv class=\"container\" iframe class=\"scaled-iframe\" src=\"https://example.com\" frameborder=\"0\" iframe div Container The iframe has to be wrapped into a container div element, that can have any size. I set a css custom property on it, that can be changed with javascript later on.\n.container { --scale-factor: 0.5; overflow: hidden; /* props below are not mandatory */ width: 50%; height: 500px; border: 1px solid black; } The container’s width and height can be any reasonable value, the --scale-factor should be a positive number around 1 (1 is 100%, zero does not make sense).\nSince I’ll fit the iframe content to the container, I don’t need to show any possible overflows.\nIframe The main trick is that in the iframe transform: scale can change its contents' size.\nIf I set width: 100%; height: 100%; on the iframe to keep it fit into its container, the scaling will change them as well. I need to adjust the width and height of the iframe element so that it fits in its container. I can calc the necessary adjustments based on the custom property this way: calc(1/var(--scale-factor) * 100%).\n.scaled-iframe { transform: scale(var(--scale-factor)); width: calc(1/var(--scale-factor) * 100%); height: calc(1/var(--scale-factor) * 100%); } In case I don’t want to fill the whole container, and I don’t like that it’s aligned to the middle, I need to set the transform-origin property to a different value. E.g: 0 0; will start to scale it up from the top left corner.\nBrowser support As of now css variables are not supported in IE11, JS can be used instead of it.\nOpera mini stays out of this game completely.\nFor up to date info check out caniuse.com:\n calc transform css variables ","wordCount":"313","inLanguage":"en","datePublished":"2020-05-11T00:00:00Z","dateModified":"2020-05-11T00:00:00Z","author":{"@type":"Person","name":"Mátyás Budavári"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://budavariam.github.io/posts/2020/05/11/iframe-zoom/"},"publisher":{"@type":"Organization","name":"Mátyás Budavári","logo":{"@type":"ImageObject","url":"https://budavariam.github.io/favicon/favicon.ico"}}}</script><script src=https://cdn.lr-ingest.io/LogRocket.min.js crossorigin=anonymous></script><script>window.LogRocket&&window.LogRocket.init('0igxfm/budavariam-blog'),window.LogRocket.getSessionURL(function(a){ga('send',{hitType:'event',eventCategory:'LogRocket',eventAction:a})})</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://budavariam.github.io/ title="Mátyás Budavári (Alt + H)" class=site-avatar><img src=/avatar.png alt=logo aria-label=logo height=70 width=70></a><div class=site-info><h1 class=site-name><a href=https://budavariam.github.io/ accesskey=h title="Mátyás Budavári (Alt + H)">Mátyás Budavári</a></h1><p class=site-description>Developer from Szeged</p></div></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://budavariam.github.io/about/ title=About><span>About</span></a></li><li><a href=https://budavariam.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://budavariam.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://budavariam.github.io/archives/ title=Archive><span>Archive</span></a></li><li><span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Iframe zoom</h1><div class=post-meta>May 11, 2020&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Mátyás Budavári</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#container aria-label=Container>Container</a></li><li><a href=#iframe aria-label=Iframe>Iframe</a></li><li><a href=#browser-support aria-label="Browser support">Browser support</a></li></ul></div></details></div><div class=post-content><p>I need to set the zoom factor in an iframe.
I knew exactly how much space should the embedded content fit into.
And the scale needs to be adjustable.
Here&rsquo;s how I&rsquo;d do it.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;container&#34;</span>&gt;
    &lt;<span style=color:#f92672>iframe</span>
        <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;scaled-iframe&#34;</span>
        <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://example.com&#34;</span>
        <span style=color:#a6e22e>frameborder</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0&#34;</span>&gt;
    &lt;/<span style=color:#f92672>iframe</span>&gt;
&lt;/<span style=color:#f92672>div</span>&gt;
</code></pre></div><h2 id=container>Container<a hidden class=anchor aria-hidden=true href=#container>#</a></h2><p>The iframe has to be wrapped into a container div element, that can have any size.
I set a <a href=https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties>css custom property</a>
on it, that can be changed with javascript later on.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css>.<span style=color:#a6e22e>container</span> {
    --scale-factor: <span style=color:#ae81ff>0.5</span>;
    <span style=color:#66d9ef>overflow</span>: <span style=color:#66d9ef>hidden</span>;
    <span style=color:#75715e>/* props below are not mandatory */</span>
    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>50</span><span style=color:#66d9ef>%</span>;
    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>500</span><span style=color:#66d9ef>px</span>;
    <span style=color:#66d9ef>border</span>: <span style=color:#ae81ff>1</span><span style=color:#66d9ef>px</span> <span style=color:#66d9ef>solid</span> <span style=color:#66d9ef>black</span>;
}
</code></pre></div><p>The container&rsquo;s <code>width</code> and <code>height</code> can be any reasonable value, the <code>--scale-factor</code> should be a positive number around 1 (1 is 100%, zero does not make sense).</p><p>Since I&rsquo;ll fit the iframe content to the container, I don&rsquo;t need to show any possible overflows.</p><h2 id=iframe>Iframe<a hidden class=anchor aria-hidden=true href=#iframe>#</a></h2><p>The main trick is that in the iframe <code>transform: scale</code> can change its contents' size.</p><p>If I set <code>width: 100%; height: 100%;</code> on the iframe to keep it fit into its container,
the scaling will change them as well.
I need to adjust the width and height of the iframe element so that it fits in its container.
I can <code>calc</code> the necessary adjustments based on the custom property this way: <code>calc(1/var(--scale-factor) * 100%)</code>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css>.<span style=color:#a6e22e>scaled-iframe</span> {
    <span style=color:#66d9ef>transform</span>: scale(<span style=color:#a6e22e>var</span>(<span style=color:#f92672>--</span>scale<span style=color:#f92672>-</span>factor));
    <span style=color:#66d9ef>width</span>: calc(<span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#a6e22e>var</span>(<span style=color:#f92672>--</span>scale<span style=color:#f92672>-</span>factor) <span style=color:#f92672>*</span> <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span>);
    <span style=color:#66d9ef>height</span>: calc(<span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#a6e22e>var</span>(<span style=color:#f92672>--</span>scale<span style=color:#f92672>-</span>factor) <span style=color:#f92672>*</span> <span style=color:#ae81ff>100</span><span style=color:#66d9ef>%</span>);
}
</code></pre></div><p>In case I don&rsquo;t want to fill the whole container, and I don&rsquo;t like that it&rsquo;s aligned to the middle,
I need to set the <code>transform-origin</code> property to a different value.
E.g: <code>0 0;</code> will start to scale it up from the top left corner.</p><h2 id=browser-support>Browser support<a hidden class=anchor aria-hidden=true href=#browser-support>#</a></h2><p>As of now css variables are not supported in IE11, JS can be used instead of it.</p><p>Opera mini stays out of this game completely.</p><p>For up to date info check out <a href=https://caniuse.com>caniuse.com</a>:</p><ul><li><a href="https://caniuse.com/#feat=calcs">calc</a></li><li><a href="https://caniuse.com/#feat=transforms2d">transform</a></li><li><a href="https://caniuse.com/#feat=css-variables">css variables</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://budavariam.github.io/tags/programming/>programming</a></li><li><a href=https://budavariam.github.io/tags/my-solution/>my-solution</a></li><li><a href=https://budavariam.github.io/tags/html/>html</a></li><li><a href=https://budavariam.github.io/tags/css/>css</a></li></ul><div class=share-buttons><div class=addthis_inline_share_toolbox></div><script type=text/javascript src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-602c2f70bcebfd93"></script></div></div></footer><script async data-uid=7d9354cde4 src=https://fabulous-experimenter-1073.ck.page/7d9354cde4/index.js></script><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//budavariam.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article></main><footer class=footer><span>&copy; 2021 <a href=https://budavariam.github.io/>Mátyás Budavári</a></span>
<span>&#183;</span>
<wbr><span>Powered&nbsp;by&nbsp;<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<wbr><span>Theme&nbsp;<a href=https://github.com/budavariam/hugo-PaperMod/tree/budavariam rel=noopener target=_blank>PaperMod&nbsp;(custom)</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position"))},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})});var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft)}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>